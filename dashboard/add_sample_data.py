"""
ã‚µãƒ³ãƒ—ãƒ«PTSãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ 
"""
from models import save_pts_data
from datetime import datetime, timedelta

# ã‚µãƒ³ãƒ—ãƒ«ã®éŠ˜æŸ„ãƒ‡ãƒ¼ã‚¿
sample_stocks = [
    {
        'code': '4063',
        'name': 'ä¿¡è¶ŠåŒ–å­¦å·¥æ¥­',
        'pts_price': 5240,
        'change_rate': 8.5,
        'change_amount': 410,
        'volume': 45000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '6758',
        'name': 'ã‚½ãƒ‹ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—',
        'pts_price': 13450,
        'change_rate': 7.2,
        'change_amount': 900,
        'volume': 120000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '7203',
        'name': 'ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š',
        'pts_price': 2890,
        'change_rate': 6.8,
        'change_amount': 184,
        'volume': 250000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '9984',
        'name': 'ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯ã‚°ãƒ«ãƒ¼ãƒ—',
        'pts_price': 7650,
        'change_rate': 5.9,
        'change_amount': 426,
        'volume': 180000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '6501',
        'name': 'æ—¥ç«‹è£½ä½œæ‰€',
        'pts_price': 3420,
        'change_rate': 5.5,
        'change_amount': 179,
        'volume': 85000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '8058',
        'name': 'ä¸‰è±å•†äº‹',
        'pts_price': 3125,
        'change_rate': 4.8,
        'change_amount': 143,
        'volume': 95000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '4502',
        'name': 'æ­¦ç”°è–¬å“å·¥æ¥­',
        'pts_price': 4180,
        'change_rate': 4.5,
        'change_amount': 180,
        'volume': 62000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '9433',
        'name': 'KDDI',
        'pts_price': 4890,
        'change_rate': 4.2,
        'change_amount': 197,
        'volume': 78000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '8306',
        'name': 'ä¸‰è±UFJãƒ•ã‚£ãƒŠãƒ³ã‚·ãƒ£ãƒ«ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—',
        'pts_price': 1456,
        'change_rate': 3.9,
        'change_amount': 55,
        'volume': 320000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    },
    {
        'code': '6857',
        'name': 'ã‚¢ãƒ‰ãƒãƒ³ãƒ†ã‚¹ãƒˆ',
        'pts_price': 8920,
        'change_rate': 3.5,
        'change_amount': 302,
        'volume': 42000,
        'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ '
    }
]

# å„éŠ˜æŸ„ã”ã¨ã®è©³ç´°ãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼ˆä¸Šæ˜‡ç†ç”±ï¼‰
news_by_stock = {
    '4063': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘åŠå°ä½“ææ–™ã®éœ€è¦æ€¥å¢—ã€å››åŠæœŸå£²ä¸Šé«˜ãŒéå»æœ€é«˜ã‚’æ›´æ–°', 'date': '2026/02/10 15:30'},
        {'title': 'ç±³å›½å¤§æ‰‹åŠå°ä½“ãƒ¡ãƒ¼ã‚«ãƒ¼ã¨ã®é•·æœŸä¾›çµ¦å¥‘ç´„ã‚’ç· çµ', 'date': '2026/02/10 14:00'},
        {'title': 'AIå‘ã‘é«˜ç´”åº¦ã‚·ãƒªã‚³ãƒ³ç”Ÿç”£èƒ½åŠ›ã‚’30%å¢—å¼·ã¸', 'date': '2026/02/09 16:00'}
    ],
    '6758': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘PS6ã®é–‹ç™ºç™ºè¡¨ã§ã‚²ãƒ¼ãƒ äº‹æ¥­ã¸ã®æœŸå¾…é«˜ã¾ã‚‹', 'date': '2026/02/10 16:00'},
        {'title': 'æ˜ ç”»äº‹æ¥­ã®èˆˆè¡Œåå…¥ãŒäºˆæƒ³ã‚’å¤§å¹…ã«ä¸Šå›ã‚‹', 'date': '2026/02/10 13:30'},
        {'title': 'ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚»ãƒ³ã‚µãƒ¼äº‹æ¥­ã§Appleã¨ã®æ–°è¦å¥‘ç´„ç²å¾—', 'date': '2026/02/09 17:00'}
    ],
    '7203': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘æ¬¡ä¸–ä»£EVé›»æ± ã®é–‹ç™ºæˆåŠŸã‚’ç™ºè¡¨ã€èˆªç¶šè·é›¢1000kmå®Ÿç¾', 'date': '2026/02/10 15:00'},
        {'title': 'åŒ—ç±³å¸‚å ´ã§ã®EVè²©å£²å°æ•°ãŒå‰å¹´æ¯”150%å¢—', 'date': '2026/02/10 14:30'},
        {'title': 'è‡ªå‹•é‹è»¢Level4ã®é‡ç”£è»Šã‚’2027å¹´ã«æŠ•å…¥ã¸', 'date': '2026/02/09 16:30'}
    ],
    '9984': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘AIé–¢é€£æŠ•è³‡å…ˆã®ä¸Šå ´ã«ã‚ˆã‚Šè©•ä¾¡ç›Š1å…†å††è¨ˆä¸Šã¸', 'date': '2026/02/10 16:30'},
        {'title': 'ãƒ“ã‚¸ãƒ§ãƒ³ãƒ•ã‚¡ãƒ³ãƒ‰3å·ã®è¨­ç«‹ã‚’æ­£å¼ç™ºè¡¨ã€è¦æ¨¡10å…†å††', 'date': '2026/02/10 13:00'},
        {'title': 'ARMæ ªã®è¿½åŠ å£²å´ã§è³‡é‡‘èª¿é”ã€è²¡å‹™æ”¹å–„ã¸', 'date': '2026/02/09 15:00'}
    ],
    '6501': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼é–‹ç™ºã§ç”»æœŸçš„ãªé€²å±•ã€å•†ç”¨åŒ–å‰å€’ã—', 'date': '2026/02/10 15:30'},
        {'title': 'é‰„é“ã‚·ã‚¹ãƒ†ãƒ äº‹æ¥­ã§æ¬§å·å¤§å‹æ¡ˆä»¶ã‚’è¤‡æ•°å—æ³¨', 'date': '2026/02/10 14:00'},
        {'title': '2024å¹´åº¦é€šæœŸæ¥­ç¸¾äºˆæƒ³ã‚’ä¸Šæ–¹ä¿®æ­£ã€æœ€é«˜ç›Šæ›´æ–°ã¸', 'date': '2026/02/09 16:00'}
    ],
    '8058': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘è³‡æºä¾¡æ ¼ä¸Šæ˜‡ã§è³‡æºäº‹æ¥­ã®åç›Šå¤§å¹…æ”¹å–„', 'date': '2026/02/10 16:00'},
        {'title': 'ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã®éŠ…é‰±å±±ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæœ¬æ ¼ç¨¼åƒ', 'date': '2026/02/10 14:30'},
        {'title': 'é…å½“å¢—é¡ã¨è‡ªç¤¾æ ªè²·ã„ã‚’ç™ºè¡¨ã€æ ªä¸»é‚„å…ƒå¼·åŒ–', 'date': '2026/02/09 15:30'}
    ],
    '4502': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘æ–°è–¬å€™è£œã®æ²»é¨“ã§è‰¯å¥½ãªçµæœã€æ‰¿èªç”³è«‹ã¸', 'date': '2026/02/10 15:00'},
        {'title': 'ãŒã‚“æ²»ç™‚è–¬ã®ç±³å›½æ‰¿èªå–å¾—ã€å¹´é–“å£²ä¸Š3000å„„å††è¦‹è¾¼ã¿', 'date': '2026/02/10 13:30'},
        {'title': 'è£½è–¬å¤§æ‰‹ã¨ã®æˆ¦ç•¥çš„ææºã‚’ç™ºè¡¨', 'date': '2026/02/09 16:30'}
    ],
    '9433': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘5Gå¥‘ç´„æ•°ãŒè¨ˆç”»ã‚’ä¸Šå›ã‚‹ãƒšãƒ¼ã‚¹ã§å¢—åŠ ', 'date': '2026/02/10 16:00'},
        {'title': 'é‡‘èãƒ»æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹äº‹æ¥­ã®åˆ©ç”¨è€…æ•°1000ä¸‡äººçªç ´', 'date': '2026/02/10 14:00'},
        {'title': 'æœŸæœ«é…å½“ã‚’å¢—é¡ã€é€£ç¶šå¢—é…è¨˜éŒ²ã‚’æ›´æ–°ã¸', 'date': '2026/02/09 15:00'}
    ],
    '8306': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘ç´”åˆ©ç›ŠãŒå¸‚å ´äºˆæƒ³ã‚’20%ä¸Šå›ã‚‹ã€é é‡‘åˆ©æ¯åå…¥å¢—åŠ ', 'date': '2026/02/10 16:30'},
        {'title': 'ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ³ã‚­ãƒ³ã‚°æˆ¦ç•¥ãŒå¥åŠŸã€ã‚³ã‚¹ãƒˆå‰Šæ¸›é€²ã‚€', 'date': '2026/02/10 14:30'},
        {'title': 'æ ªä¾¡ä¸Šæ˜‡ã§æ”¿ç­–ä¿æœ‰æ ªã®å£²å´ç›Šå¢—åŠ ', 'date': '2026/02/09 15:30'}
    ],
    '6857': [
        {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘AIåŠå°ä½“ãƒ†ã‚¹ã‚¿ãƒ¼éœ€è¦æ€¥å¢—ã€å—æ³¨æ®‹é«˜ãŒéå»æœ€é«˜', 'date': '2026/02/10 15:30'},
        {'title': 'NVIDIAã‹ã‚‰ã®å¤§å‹å—æ³¨ã‚’ç²å¾—ã¨ã®è¦³æ¸¬', 'date': '2026/02/10 14:00'},
        {'title': 'æ¥­ç¸¾äºˆæƒ³ã‚’ä¸Šæ–¹ä¿®æ­£ã€å–¶æ¥­åˆ©ç›Šç‡ãŒæ”¹å–„', 'date': '2026/02/09 16:00'}
    ]
}

# ã‚µãƒ³ãƒ—ãƒ«ä¼æ¥­æƒ…å ±
sample_company = {
    'market': 'æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ ',
    'industry': 'é›»æ°—æ©Ÿå™¨',
    'market_cap': '10å…†å††'
}

# Fallback news
sample_news = [
    {'title': 'ã€ä¸Šæ˜‡ç†ç”±ã€‘å¥½ææ–™ã«ã‚ˆã‚Šè²·ã„ãŒå„ªå‹¢', 'date': '2026/02/10 15:00'}
]

print("ğŸ“Š ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ä¸­...")

# Use same timestamp for all stocks in this batch
from datetime import datetime
timestamp = datetime.now().isoformat()

for stock in sample_stocks:
    # Get specific news for this stock
    stock_news = news_by_stock.get(stock['code'], sample_news)
    save_pts_data(stock, stock_news, sample_company, timestamp)
    print(f"âœ… {stock['code']} {stock['name']} ã‚’è¿½åŠ ï¼ˆä¸Šæ˜‡ç†ç”±ä»˜ãï¼‰")

print("\nğŸ‰ å®Œäº†ï¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„")
print("   http://localhost:5001")
